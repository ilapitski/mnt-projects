# Занятие: 5
## Тема: Обработка исключений



### Домашнее задание: 5
#### Теория:
- прочесть заметки лекции ещё раз, два, три...
- подтянуть пробелы по прошлым темам (к тесту, возьмите, пожалуйста ручки)
- изучить следующие ссылки: 
    - http://www.skorks.com/2009/09/ruby-exceptions-and-exception-handling/ 
    - http://phrogz.net/programmingruby/tut_exceptions.html 
    - http://ruby.bastardsbook.com/chapters/exception-handling/ 
- осмотреться в документации: 
    - http://www.ruby-doc.org/core-2.2.0/Exception.html
- составить список вопросов
- выделить одну интересную и запомнившуюся особенность/метод/факт
связанный с `Ruby`

#### Практика:
- разобраться со старыми домашками 
- установить `Rubocop` https://github.com/bbatsov/rubocop, проверить свой
скрипт перед отправкой на проверку, должен проходить 100%
- улучшить наш скрипт-эммулятор отлавливанием исключений: 
    - скрипт должен не падать и выводить понятное сообщение об ошибке в случае 
невозможности прочтения системного `uptime` (например когда `/proc/uptime` нет
в системе, `Windows`...), была вызвана неизвестная команда, передан неверный
аргумент и тд.. Работа скрипта не должна прирываться при этом
    - скрипт должен выходить со статусом `0` и выводить "Good Bye!" даже при 
попытках завершения через `SIGINT (^C)` и при вводе строки команды `exit`,
но при этом не запускаться, если сам содержит ошибки
    - метод `#command_by_name` должен вызывать исключение при отсутствии метода
с переданным именем, но при этом, внешний метод\код, который его вызывает,
должен эти исключения отлавливать
- любым возможным способом реализовать логгирование для скрипта:
    - все ошибки записываются в отдельный файл `errors.log`
    - пользовательское взаимодействие записывается в файл `<имя_скрипта>.log`
в виде: `<время локальное>: <имя команды, которая была вызвана> : <результат
команды> или nil`, если ничего не вызвращает
    - __**__ реализовать возможность запуска скрипта в `debug`-моде, при котором
все ошибки выводятся на экран и логируются не просто, а с подробным stacktrace.  
Пример возможного запуска: `./script_name.rb --debug`
- __**__ добавить возможность конфигурирования скрипта через `<имя_скрипта>.yaml`
файл, в котором можно настроить описание команд, мод-запуска, названия файлов
логов, например:
```yaml
output_log: script.log
error_log: script_errors.log
debug: true

commands:
    help: Help command prints help
    uptime: Uptime command shows uptime
    ...
```
Соответсвенно описания команд и названия лог-файлов при запуске будут новые.  
По-умолчанию скрипт ищет конфиг в той же директории, что и сам, с
таким же именем, только c `.yaml`, либо может получить путь к конфигу через
опцию `--config=path_to_config_any_name.yaml`. Работает и без конфига,
как раньше.


Домашку присылать по адресу: `aliaksandr_buhayeu@epam.com` с темой
письма: `MTN:L_5:NAME_SURNAME`.

##### На этом всё, жду вас на следующем занятии!
